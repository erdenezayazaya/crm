<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
  <title>CRM</title>
  <meta name="description" content="free website template" />
  <meta name="keywords" content="enter your keywords here" />
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
  <script type="text/javascript" src="jquery-3.2.1.min.js"></script> 


  
<link rel="stylesheet" type="text/css" href="fancybox/jquery.fancybox-1.3.4.css" media="screen" />
        
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
   <script type="text/javascript">
   // Load the Visualization API and the piechart package.
   google.charts.load('current', {'packages':['corechart', 'bar']});
     
   // Set a callback to run when the Google Visualization API is loaded.
   google.charts.setOnLoadCallback(drawChart);
   
   /***************************
    * Sales
    ***************************/  
    function drawChart() {
      var jsonData = $.ajax({
          url: "ManageSale?action=dataGraphic",
          dataType: "json",
          async: false
          }).responseText;
          
      
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'InsuranceType');
      data.addColumn('number', 'Amount');
    
      /* for loop code for changing inputdata to 'data' of type google.visualization.DataTable*/
      var dataArray = [];
      $.each($.parseJSON(jsonData), function (i, obj) {
       dataArray.push([obj.type, obj.amount]);
      });

      data.addRows(dataArray);
      var options1 = {
              title: 'Total Sales by Insurance Type',
              'width':600,
              'height':400
            };
      // Instantiate and draw our chart, passing in some options.
      var chart = new google.visualization.PieChart(document.getElementById('sale_chart'));
      chart.draw(data, options1);
      
      /***************************
      * Opportunities
      ***************************/
      var jsonData = $.ajax({
          url: "ManageOpportunity?action=dataGraphic",
          dataType: "json",
          async: false
          }).responseText;
      
      var data2 = new google.visualization.DataTable();
      data2.addColumn('string', 'Stage');
      data2.addColumn('number', 'Total');
    
      /* for loop code for changing inputdata to 'data' of type google.visualization.DataTable*/
      var dataArray2 = [];
      $.each($.parseJSON(jsonData), function (i, obj) {
       dataArray2.push([obj.type, obj.amount]);
      });

      data2.addRows(dataArray2);
        var options = {
          title: 'Opportunities by Stage',
          chartArea: {width: '70%'},
          isStacked: true,
          hAxis: {
            title: 'Total',
            minValue: 0,
          },
          vAxis: {
            title: 'Stage'
          }
        };
        var chart = new google.visualization.BarChart(document.getElementById('oppor_chart'));
        chart.draw(data2, options);
    }
</script>

</head>

<body>
  <div id="container_header"><p>&nbsp;</p></div>
    <div id="main">
      <div id="header">
        <div id="banner"></div>
      <div id="menubar">
          <ul id="nav">
            <li class="selected"><a href="index.html">Home</a></li>
            <li><a href="modules/leadCreation.jsp">Clients</a></li>
            <li><a href="modules/opportunityCreation.jsp">Opportunities</a></li>
            <li><a href="#">Activities</a></li>
            <li><a href="modules/salesCreation.jsp">Sales</a></li>
            <li><a href="contact.html">Campaigns</a></li>

          </ul>
        </div>
      </div>
    <div id="site_content">
      <div id="content">
        <div class="clear"></div>
        <div class="content_item">
          <div style="width:600px; float:left;">
      <h1>Sales </h1>
		<div id="sale_chart" align="center"></div>
		<h1>Opportunities </h1>
		<div id="oppor_chart" align="center"></div>
		</div>
      </div>
          <div style="width:250px; float:left; margin-left:20px;">
            <div style="width:200px; float:left;"><h2>Latest Update</h2></div>
              <br style="clear:both;" />
        <h3>January 2011</h3>
              <div style="width:50px; float:left;"><img src="images/icons/attachment.png" alt="new"/></div><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque cursus tempor enim. Aliquam facilisis neque non nunc posuere eget volutpat metus tincidunt</p>
            <div style="width:200px; float:left;"><h2>Useful Information</h2></div>
              <br style="clear:both;" />
        <div style="width:50px; float:left;"><img src="images/icons/info.png" alt="info"/></div>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque cursus tempor enim. Aliquam facilisis neque non nunc posuere eget volutpat metus tincidunt</p>
        <div style="width:50px; float:left;"><img src="images/icons/info.png" alt="info"/></div>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque cursus tempor enim. Aliquam facilisis neque non nunc posuere eget volutpat metus tincidunt</p>
        </div>
          <br style="clear:both;" />
    </div>
      </div>
    </div>
    <div id="footer">
      <div> website template by <a href="http://www.araynordesign.co.uk">ARaynorDesign</a></div>
    </div>
  </div>
  <div id="container_footer">&nbsp;</div>
  <p style="float: left;padding: 0;">&nbsp;</p>
<div style="margin: 1em 0 3em 0; text-align: center;">
</div>
</body>
</html>
